(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{31:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(17),i=n.n(c),o=(n(31),n(12)),u=n(5),l=n(3),d=n.n(l),j=n(4),b=n(2),p=n(8),m=n(6),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=Object(r.useState)(e),c=Object(m.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)({}),l=Object(m.a)(u,2),d=l[0],j=l[1],O=function(e){var t=e.name,a=e.value,r=Object(p.a)({},t,a),s=n(r);return 0===Object.keys(s).length?null:s[t]},h=function(e){var t=e.target,n=Object(b.a)({},d),a=O(t);a?n[t.name]=a:delete n[t.name],o(Object(b.a)(Object(b.a)({},i),{},Object(p.a)({},t.name,t.value))),j(n)},f=function(r){r.preventDefault();var s=n(i);0===Object.keys(s).length?(t(i),a&&o(e)):j(s)};return{onChange:h,onSubmit:f,values:i,errors:d}},h=n(14),f="REQUEST_LOGIN",g="LOGIN_SUCCESS",x="LOGOUT",v="LOGIN_ERROR",N="LOAD_QUESTIONS_IN_PROGRESS",_="LOAD_QUESTIONS_IN_SUCCESS",w="LOAD_QUESTIONS_IN_FAILURE",S="ADD_QUESTION_IN_PROGRESS",y="ADD_QUESTION_IN_SUCCESS",I="ADD_QUESTION_IN_FAILURE",q="EDIT_QUESTION_IN_PROGRESS",E="EDIT_QUESTION_IN_SUCCESS",C="EDIT_QUESTION_IN_FAILURE",A="DELETE_QUESTION",U="LOAD_ANSWERS_IN_PROGRESS",P="LOAD_ANSWERS_IN_SUCCESS",k="LOAD_ANSWERS_IN_FAILURE",D="LOAD_QUIZES_IN_PROGRESS",R="LOAD_QUIZES_IN_SUCCESS",Q="LOAD_QUIZES_IN_FAILURE",L="ADD_QUIZ_IN_PROGRESS",F="ADD_QUIZ_IN_SUCCESS",T="ADD_QUIZ_IN_FAILURE",J="EDIT_QUIZ_IN_PROGRESS",M="EDIT_QUIZ_IN_SUCCESS",G="EDIT_QUIZ_IN_FAILURE",z=[{id:1,name:"Mamun Hosen",email:"hossainmamun278@gmail.com",password:"user@123",isAdmin:!1},{id:2,name:"Admin User",email:"admin@gmail.com",password:"admin@123",isAdmin:!0},{id:2,name:"another user",email:"another@gmail.com",password:"another@123",isAdmin:!1}];function Z(e,t){return H.apply(this,arguments)}function H(){return(H=Object(j.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t({type:f}),!(a=z.find((function(e){return e.email===n.email&&e.password===n.password})))){e.next=8;break}return delete a.password,t({type:g,payload:a}),localStorage.setItem("currentUser",JSON.stringify(a)),e.abrupt("return",a);case 8:return t({type:v,error:"Invalid Username/Password"}),e.abrupt("return");case 12:e.prev=12,e.t0=e.catch(0),t({type:v,error:"Something went wrong!! Please try again later"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function V(){return(V=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:N}),n=localStorage.getItem("questions")?JSON.parse(localStorage.getItem("questions")):[],t({type:_,payload:n})}catch(a){t({type:w,error:"Something went wrong!! Please try again later"})}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:S}),a=localStorage.getItem("questions")?JSON.parse(localStorage.getItem("questions")):[],a=[].concat(Object(h.a)(a),[n]),localStorage.setItem("questions",JSON.stringify(a)),t({type:y,payload:a}),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),t({type:I,error:"Something went wrong!! Please try again later"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function K(e,t){return X.apply(this,arguments)}function X(){return(X=Object(j.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),a=(a=localStorage.getItem("questions")?JSON.parse(localStorage.getItem("questions")):[]).map((function(e){return e.id===n.id&&(e.title=n.title),e})),localStorage.setItem("questions",JSON.stringify(a)),t({type:E,payload:a}),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),t({type:C,error:"Something went wrong!! Please try again later"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Y(e,t){return $.apply(this,arguments)}function $(){return($=Object(j.a)(d.a.mark((function e(t,n){var a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("questions")?JSON.parse(localStorage.getItem("questions")):[],r=a.find((function(e){return e.id===n})),(s=a.indexOf(r))>-1&&(a.splice(s,1),localStorage.setItem("questions",JSON.stringify(a)),t({type:A,payload:a}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(j.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:U}),a=localStorage.getItem("answers")?JSON.parse(localStorage.getItem("answers")):[],n&&(a=a.filter((function(e){return e.user_id===n}))),t({type:P,payload:a})}catch(r){t({type:k,error:"Something went wrong!! Please try again later"})}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(j.a)(d.a.mark((function e(t,n){var a,r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n({type:D}),a=localStorage.getItem("questions")?JSON.parse(localStorage.getItem("questions")):[],r=localStorage.getItem("answers")?JSON.parse(localStorage.getItem("answers")):[],s=r.map((function(e){return e.user_id===t?e.question_id:null})),c=a.filter((function(e){return!s.includes(e.id)})),n({type:R,payload:c})}catch(i){n({type:Q,error:"Something went wrong!! Please try again later"})}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(j.a)(d.a.mark((function e(t,n,a){var r,s,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:L}),r=localStorage.getItem("answers")?JSON.parse(localStorage.getItem("answers")):[],r=[].concat(Object(h.a)(r),Object(h.a)(t)),localStorage.setItem("answers",JSON.stringify(r)),a.isAdmin||(r=r.filter((function(e){return e.user_id===a.id}))),s=localStorage.getItem("questions")?JSON.parse(localStorage.getItem("questions")):[],c=r.map((function(e){return e.user_id===a.id?e.question_id:null})),i=s.filter((function(e){return!c.includes(e.id)})),n({type:F,payload:{answers:r,quizes:i}}),e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0),n({type:T,error:"Something went wrong!! Please try again later"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function se(e,t,n){return ce.apply(this,arguments)}function ce(){return(ce=Object(j.a)(d.a.mark((function e(t,n,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:J}),r=(r=localStorage.getItem("answers")?JSON.parse(localStorage.getItem("answers")):[]).map((function(e){return e.id===t.id?t:e})),localStorage.setItem("answers",JSON.stringify(r)),a&&(r=r.filter((function(e){return e.user_id===a}))),n({type:M,payload:r}),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(0),n({type:G,error:"Something went wrong!! Please try again later"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ie(){return(ie=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:x}),localStorage.removeItem("currentUser");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe={user:localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):"",loading:!1,errorMessage:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case g:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,errorMessage:"",loading:!1});case x:return Object(b.a)(Object(b.a)({},e),{},{user:""});case v:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,errorMessage:t.error});default:return e}},le={questions:[],loading:!1,errorMessage:null},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case _:return Object(b.a)(Object(b.a)({},e),{},{questions:t.payload,loading:!1});case w:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,errorMessage:t.error});case S:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case y:return Object(b.a)(Object(b.a)({},e),{},{questions:t.payload,loading:!1});case I:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,errorMessage:t.error});case q:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case E:return Object(b.a)(Object(b.a)({},e),{},{questions:t.payload,loading:!1});case C:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,errorMessage:t.error});case A:return Object(b.a)(Object(b.a)({},e),{},{questions:t.payload});default:return e}},je={answers:[],loading:!1,errorMessage:null,quizes:[]},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case P:return Object(b.a)(Object(b.a)({},e),{},{answers:t.payload,loading:!1});case k:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,errorMessage:t.error});case D:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case R:return Object(b.a)(Object(b.a)({},e),{},{quizes:t.payload,loading:!1});case Q:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,errorMessage:t.error});case L:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case F:return Object(b.a)(Object(b.a)({},e),{},{answers:t.payload.answers,quizes:t.payload.quizes,loading:!1});case T:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,errorMessage:t.error});case J:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case M:return Object(b.a)(Object(b.a)({},e),{},{answers:t.payload,loading:!1});case G:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,errorMessage:t.error});default:return e}},pe=s.a.createContext(),me=s.a.createContext(),Oe=s.a.createContext(),he=s.a.createContext(),fe=s.a.createContext(),ge=s.a.createContext();function xe(){return Object(r.useContext)(pe)}function ve(){return Object(r.useContext)(me)}function Ne(){return Object(r.useContext)(Oe)}function _e(){return Object(r.useContext)(he)}function we(){return Object(r.useContext)(fe)}function Se(){return Object(r.useContext)(ge)}var ye=function(e){var t=e.children,n=Object(r.useReducer)(ue,oe),s=Object(m.a)(n,2),c=s[0],i=s[1];return Object(a.jsx)(pe.Provider,{value:c,children:Object(a.jsx)(me.Provider,{value:i,children:t})})},Ie=function(e){var t=e.children,n=Object(r.useReducer)(de,le),s=Object(m.a)(n,2),c=s[0],i=s[1];return Object(a.jsx)(Oe.Provider,{value:c,children:Object(a.jsx)(he.Provider,{value:i,children:t})})},qe=function(e){var t=e.children,n=Object(r.useReducer)(be,je),s=Object(m.a)(n,2),c=s[0],i=s[1];return Object(a.jsx)(fe.Provider,{value:c,children:Object(a.jsx)(ge.Provider,{value:i,children:t})})},Ee=(n(33),function(e){var t=ve(),n=xe(),r=n.loading,s=n.errorMessage,c=n.user,i=O({email:"",password:""},function(){var n=Object(j.a)(d.a.mark((function n(a){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z(t,{email:a.email,password:a.password});case 3:if(r=n.sent){n.next=6;break}return n.abrupt("return");case 6:r.isAdmin?e.history.push("/questions"):e.history.push("/answers"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}(),(function(e){var t={};return""===e.email?t.email="Email must not be empty":/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"),""===e.password&&(t.password="Password must not be empty"),t}),!1),o=i.onChange,l=i.onSubmit,b=i.values,p=i.errors;return c?c.isAdmin?Object(a.jsx)(u.a,{to:{pathname:"/questions"}}):Object(a.jsx)(u.a,{to:{pathname:"/answers"}}):Object(a.jsx)("div",{className:"login-wrapper",children:Object(a.jsxs)("form",{className:"login-form",onSubmit:l,noValidate:!0,children:[Object(a.jsx)("h2",{className:"login__headline",children:"Login"}),s&&Object(a.jsx)("p",{className:"error",children:s}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-label",htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"text",className:"input-field",id:"email",name:"email",onChange:o,value:b.email}),p.email&&Object(a.jsx)("p",{className:"error",children:p.email})]}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-label",htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"input-field",id:"password",name:"password",onChange:o,value:b.password}),p.password&&Object(a.jsx)("p",{className:"error",children:p.password})]}),Object(a.jsx)("input",{type:"submit",value:"Login",className:"btn-submit",disabled:r})]})})}),Ce=(n(39),function(e){var t=e.children,n=e.open,r=e.onClose;return n?i.a.createPortal(Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"overlay"}),Object(a.jsxs)("div",{className:"modal",children:[Object(a.jsx)("div",{className:"modal__header",children:Object(a.jsx)("span",{onClick:r,className:"modal__close",children:"\xd7"})}),Object(a.jsx)("div",{className:"modal__body",children:t})]})]}),document.getElementById("modal")):null}),Ae=(n(40),function(e){var t=e.histories,n=Object(r.useState)(!1),s=Object(m.a)(n,2),c=s[0],i=s[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"previous-btn",onClick:function(){return i(!0)},children:"Prev Answers"}),Object(a.jsx)(Ce,{open:c,onClose:function(){return i(!1)},children:t.length>0?t.map((function(e,t){return Object(a.jsx)("p",{className:"history",children:e},t)})):Object(a.jsx)("p",{className:"no--result",children:"No rows found!!!"})})]})}),Ue=(n(41),function(e){var t,n=e.disabled,s=e.answerObj,c=e.user,i=Object(r.useState)(!1),o=Object(m.a)(i,2),u=o[0],l=o[1],f=Se(),g=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.answer,a=[].concat(Object(h.a)(s.editHistories),[s.answer]),r=Object(b.a)(Object(b.a)({},s),{},{answer:n,editHistories:a}),i=c.isAdmin?"":c.id,e.next=6,se(r,f,i);case 6:e.sent&&l(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=O({answer:s.answer},g,(function(e){var t={};return""===e.answer&&(t.answer="Answer must not be empty"),t}),!1),v=x.onChange,N=x.onSubmit,_=x.values,w=x.errors;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{disabled:n,className:"btn btn--edit",onClick:function(){return l(!0)},children:"Edit"}),Object(a.jsx)(Ce,{open:u,onClose:function(){return l(!1)},children:Object(a.jsxs)("form",{className:"question__form",onSubmit:N,noValidate:!0,children:[Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-label",htmlFor:"answer",children:s.title}),Object(a.jsx)("textarea",(t={name:"",id:"answer",rows:"5",onChange:v},Object(p.a)(t,"name","answer"),Object(p.a)(t,"className","textarea"),Object(p.a)(t,"placeholder","Describe yourself here..."),Object(p.a)(t,"value",_.answer),t)),w.answer&&Object(a.jsx)("p",{className:"error",children:w.answer})]}),Object(a.jsx)("input",{type:"submit",value:"Update",className:"btn-submit question-submit--btn"})]})})]})}),Pe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},ke=(n(42),function(e){var t=e.user,n=Se(),s=we().quizes,c=Object(r.useState)(!1),i=Object(m.a)(c,2),o=i[0],u=i[1],l=function(){var e=Object(j.a)(d.a.mark((function e(a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{id:Pe(),question_id:e.id,answer:a[e.id],user_id:t.id,editHistories:[]})})),e.next=3,ae(r,n,t);case 3:e.sent&&u(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=O(function(){for(var e={},t=0;t<s.length;t++)e[s[t].id]="";return e}(),l,(function(e){var t={};for(var n in e)""===e[n]&&(t[n]="Answer field must not be empty");return t})),f=h.onChange,g=h.onSubmit,x=h.values,v=h.errors;Object(r.useEffect)((function(){Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t.id,n);case 2:case"end":return e.stop()}}),e)})))()}),[]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"btn--play",onClick:function(){return u(!0)},children:"Play Quiz"}),Object(a.jsx)(Ce,{open:o,onClose:function(){return u(!1)},children:Object(a.jsx)("form",{className:"question__form",onSubmit:g,noValidate:!0,children:s.length>0?Object(a.jsxs)(a.Fragment,{children:[s.map((function(e,t){var n;return Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-label",htmlFor:"question__title".concat(t+1),children:e.title}),Object(a.jsx)("textarea",(n={name:"",id:"question__title".concat(t+1),rows:"5",onChange:f},Object(p.a)(n,"name",e.id),Object(p.a)(n,"className","textarea"),Object(p.a)(n,"placeholder","Describe yourself here..."),Object(p.a)(n,"value",x[e.id]),n)),v[e.id]&&Object(a.jsx)("p",{className:"error",children:v[e.id]})]},e.id)})),Object(a.jsx)("input",{type:"submit",value:"Submit",className:"btn-submit question-submit--btn"})]}):Object(a.jsx)("p",{className:"no--result",children:"No questions found!!!"})})})]})}),De=(n(43),function(){var e=Se(),t=we(),n=t.loading,s=t.answers,c=xe().user;Object(r.useEffect)((function(){var t=c.isAdmin?"":c.id;!function(e,t){ee.apply(this,arguments)}(e,t)}),[]);var i=Object(a.jsx)("div",{className:"loading",children:"Loading answers..."}),o=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"answer-header",children:[Object(a.jsx)("div",{className:"answer-header__serial",children:"#"}),Object(a.jsx)("div",{className:"answer-header__title",children:"Question"}),Object(a.jsx)("div",{className:"answer-header__given",children:"Answer"}),Object(a.jsx)("div",{className:"answer-header__action",children:"Action"})]}),Object(a.jsx)("div",{className:"answers",children:s.length>0?s.map((function(e,t){return Object(a.jsxs)("div",{className:"answer",children:[Object(a.jsx)("div",{className:"answer__serial",children:t+1}),Object(a.jsx)("div",{className:"answer__title",children:e.title}),Object(a.jsx)("div",{className:"answer__given",children:e.answer}),Object(a.jsxs)("div",{className:"answer__action",children:[Object(a.jsx)(Ue,{disabled:c.id!==e.user_id,answerObj:e,user:c}),Object(a.jsx)(Ae,{histories:e.editHistories})]})]},e.id)})):Object(a.jsx)("p",{className:"no--result",children:"No rows found!!!"})})]});return Object(a.jsxs)("div",{className:"answer-wrapper",children:[Object(a.jsx)(ke,{user:c}),n?i:o]})}),Re=(n(44),function(e){var t=e.id,n=_e(),r=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Delete the item?")){e.next=3;break}return e.next=3,Y(n,t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("button",{className:"btn btn--delete",onClick:r,children:"Delete"})}),Qe=(n(45),function(e){var t=e.id,n=e.question,s=Object(r.useState)(!1),c=Object(m.a)(s,2),i=c[0],o=c[1],u=Ne(),l=u.loading,b=u.errorMessage,p=_e(),h=function(){var e=Object(j.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.question,r={id:t,title:a},e.next=4,K(p,r);case 4:e.sent.length>0&&o(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=O({question:n},h,(function(e){var t={};return""===e.question&&(t.question="Question must not be empty"),t}),!1),g=f.onChange,x=f.onSubmit,v=f.values,N=f.errors;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"btn btn--edit",onClick:function(){return o(!0)},children:"Edit"}),Object(a.jsx)(Ce,{open:i,onClose:function(){return o(!1)},children:Object(a.jsxs)("form",{className:"question__form",onSubmit:x,noValidate:!0,children:[b&&Object(a.jsx)("p",{className:"error",children:b}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-label",htmlFor:"question__title",children:"Question Title"}),Object(a.jsx)("input",{type:"text",className:"input-field",id:"question__title",name:"question",onChange:g,value:v.question}),N.question&&Object(a.jsx)("p",{className:"error",children:N.question})]}),Object(a.jsx)("input",{type:"submit",value:"Update",className:"btn-submit question-submit--btn",disabled:l})]})})]})}),Le=(n(46),function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],s=t[1],c=_e(),i=Ne(),o=i.loading,u=i.errorMessage,l=i.questions,b=O({question:""},function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.question,a={id:Pe(),title:n},e.next=4,B(c,a);case 4:e.sent.length>0&&s(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t={};return""===e.question&&(t.question="Question must not be empty"),t})),p=b.onChange,h=b.onSubmit,f=b.values,g=b.errors;Object(r.useEffect)((function(){!function(e){V.apply(this,arguments)}(c)}),[]);var x=Object(a.jsx)("div",{className:"loading",children:"Loading questions..."}),v=Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"question-header",children:[Object(a.jsx)("div",{className:"question-header__serial",children:"#"}),Object(a.jsx)("div",{className:"question-header__title",children:"Title"}),Object(a.jsx)("div",{className:"question-header__action",children:"Action"})]}),Object(a.jsx)("div",{className:"questions",children:l.length>0?l.map((function(e,t){return Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"question__serial",children:t+1}),Object(a.jsx)("div",{className:"question__title",children:e.title}),Object(a.jsxs)("div",{className:"question__action",children:[Object(a.jsx)(Qe,{id:e.id,question:e.title}),Object(a.jsx)(Re,{id:e.id})]})]},e.id)})):Object(a.jsx)("p",{className:"no--result",children:"No question added yet!!!"})})]});return Object(a.jsxs)("div",{className:"question-wrapper",children:[Object(a.jsx)("button",{className:"add-question",onClick:function(){return s(!0)},children:"Add Question"}),Object(a.jsx)(Ce,{open:n,onClose:function(){return s(!1)},children:Object(a.jsxs)("form",{className:"question__form",onSubmit:h,noValidate:!0,children:[u&&Object(a.jsx)("p",{className:"error",children:u}),Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{className:"input-label",htmlFor:"question__title",children:"Question Title"}),Object(a.jsx)("input",{type:"text",className:"input-field",id:"question__title",name:"question",onChange:p,value:f.question}),g.question&&Object(a.jsx)("p",{className:"error",children:g.question})]}),Object(a.jsx)("input",{type:"submit",value:"Add",className:"btn-submit question-submit--btn",disabled:o})]})}),o?x:v]})}),Fe=(n(47),[{path:"/login",component:Ee,isPrivate:!1,onlyAdmin:!1},{path:"/questions",component:Le,isPrivate:!0,onlyAdmin:!0},{path:"/answers",component:De,isPrivate:!0,onlyAdmin:!1},{path:"/*",component:function(){return Object(a.jsx)("div",{className:"notfound-wrapper",children:"NotFound"})},isPrivate:!0,onlyAdmin:!1}]),Te=n(25),Je=function(e){var t=e.component,n=e.path,r=e.isPrivate,s=e.onlyAdmin,c=Object(Te.a)(e,["component","path","isPrivate","onlyAdmin"]),i=xe();return Object(a.jsx)(u.b,Object(b.a)({path:n,render:function(e){return r?i.user?s&&!i.user.isAdmin?Object(a.jsx)(u.a,{to:{pathname:"/answers"}}):Object(a.jsx)(t,Object(b.a)({},e)):Object(a.jsx)(u.a,{to:{pathname:"/login"}}):Object(a.jsx)(t,Object(b.a)({},e))}},c))},Me=(n(48),function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],s=t[1],c=ve(),i=xe().user;return Object(a.jsxs)("header",{className:"page-header",children:[Object(a.jsxs)("div",{className:"page-header__top",children:[Object(a.jsx)("div",{className:"page-header__brand",children:"Quiz"}),Object(a.jsx)("div",{className:"page-header__toggle",onClick:function(){s((function(e){return!e}))},children:"\u2630"})]}),Object(a.jsx)("nav",{className:"page-header__bottom",children:Object(a.jsx)("div",{id:"navigation",className:"navigation ".concat(n?"navigation--visible":""),onClick:function(){return n?s(!1):null},children:i&&Object(a.jsxs)(a.Fragment,{children:[i.isAdmin&&Object(a.jsx)(o.b,{className:"navigation__item",to:"/questions",children:"Questions"}),Object(a.jsx)(o.b,{className:"navigation__item",to:"/answers",children:"Answers"}),Object(a.jsx)("div",{className:"navigation__item",onClick:function(){!function(e){ie.apply(this,arguments)}(c),window.location="/"},children:"Logout"})]})})})]})});n(49);var Ge=function(){return Object(a.jsx)(ye,{children:Object(a.jsx)(Ie,{children:Object(a.jsx)(qe,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(Me,{}),Object(a.jsx)(u.d,{children:Fe.map((function(e){return Object(a.jsx)(Je,{path:e.path,component:e.component,isPrivate:e.isPrivate,onlyAdmin:e.onlyAdmin},e.path)}))})]})})})})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Ge,{})}),document.getElementById("root")),ze()}},[[50,1,2]]]);
//# sourceMappingURL=main.15d9be8a.chunk.js.map